for(var r="function"==typeof Object.defineProperties?Object.defineProperty:function(g,a,b){g!=Array.prototype&&g!=Object.prototype&&(g[a]=b.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,x=["Array","prototype","fill"],y=0;y<x.length-1;y++){var z=x[y];z in v||(v[z]={});v=v[z]}
var A=x[x.length-1],E=v[A],G=E?E:function(g,a,b){var c=this.length||0;0>a&&(a=Math.max(0,c+a));if(null==b||b>c)b=c;b=Number(b);0>b&&(b=Math.max(0,c+b));for(a=Number(a||0);a<b;a++)this[a]=g;return this};G!=E&&null!=G&&r(v,A,{configurable:!0,writable:!0,value:G});
(function(g){function a(c){if(b[c])return b[c].a;var d=b[c]={m:c,f:!1,a:{}};g[c].call(d.a,d,d.a,a);d.f=!0;return d.a}var b={};a.l=g;a.h=b;a.b=function(c,b){a.c(c)||Object.defineProperty(c,"a",{configurable:!1,enumerable:!0,get:b})};a.i=function(c){var b=c&&c.g?function(){return c["default"]}:function(){return c};a.b(b,b);return b};a.c=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};a.j="";return a(a.o=0)})([function(){window.exportPng=function(){var g="<iframe width='100%' height='100%' src='"+
document.getElementById("paintlayer").toDataURL("image/png")+"'></iframe>",a=window.open();a.document.open();a.document.write(g);a.document.close()};window.main=function(){function g(){for(var a=0,b,c=w||0,p=255/e.width,g=255/e.height,u=t.getImageData(0,0,e.width,e.height),B=0;B<e.height;B++){for(var d=b=0;d<e.width;d++){var f=4*(d+B*e.width);u.data[f++]=a;u.data[f++]=b+=p;u.data[f++]=c;u.data[f++]=255}a+=g}t.putImageData(u,0,0)}function a(a,f){f||b?(b=h.fillStyle=f||b,c="source-over"):h.fillStyle=
"black";a||(a=document.getElementById("brushSize").value);h.filter="blur(1px)";h.clearRect(0,0,q.width,q.height);h.beginPath();h.arc(64,64,a,0,2*Math.PI);h.fill();document.getElementById("brushSizeText").innerText=a+" px"}var b="black",c="source-over",d=!1,m=document.getElementById("paintlayer"),q=document.getElementById("brush"),e=document.getElementById("colorPalette"),t=e.getContext("2d"),h=q.getContext("2d");document.getElementById("brushSize").onmousemove=function(){console.log(document.getElementById("brushSize").value);
a(document.getElementById("brushSize").value)};g();e.onmousedown=function(b){var c=e.offsetLeft,f=e.offsetTop,p=t.getImageData(0,0,e.width,e.height);b=4*(b.clientX-c+(b.clientY-f)*e.width);p="rgb("+p.data[b++]+","+p.data[b++]+","+p.data[b++]+")";a(void 0,p)};var w=0;document.getElementById("gslider").onmousemove=function(){w=document.getElementById("gslider").value;g()};a(13);var k=m.getContext("2d");k.globalCompositeOperation=c;k.globalAlpha=.1;m.onmousedown=function(a){k.globalCompositeOperation=
c;if(!d){var b=m.offsetLeft+64,g=m.offsetTop+64;n=f=a;k.drawImage(q,a.clientX-b,a.clientY-g);d=setInterval(function(){if(n&&f){var a=n.clientX,c=f.clientX,d=n.clientY,e=f.clientY;if(a!=c||d!=e){var h=m.offsetLeft+64,t=m.offsetTop+64,F=!1;if(Math.abs(a-c)<Math.abs(d-e)){var l=a;a=d;d=l;l=c;c=e;e=l;F=!0}a>c&&(l=a,a=c,c=l,l=d,d=e,e=l);l=c-a;for(var w=2*Math.abs(e-d),C=0,D=d;a<=c;a++)F?k.drawImage(q,D-h,a-t):k.drawImage(q,a-h,D-t),C+=w,C>l&&(D+=e>d?1:-1,C-=2*l)}else a=k.globalAlpha,k.globalAlpha=.01,
k.drawImage(q,f.clientX-b+5*Math.random()-2.5,f.clientY-g+5*Math.random()-2.5),k.globalAlpha=a}n=f},1/60)}console.log("mouse is down")};m.onmouseup=function(){clearInterval(d);f=n=d=null};var n=null,f=null;m.onmousemove=function(a){d&&(n&&f||(f=n=a),f=a)}}}]);
